<!DOCTYPE html>
<html>
  <head>
    <title>Bob's Game Store - Temporal Playground</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    
    <!-- Water.css for simple, clean styling -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
    
    <!-- Mermaid.js for flowcharts -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <style>
      .carousel-container {
        position: relative;
        max-width: 1400px;
        margin: 0 auto;
        overflow: hidden;
      }
      
      .carousel-slides {
        display: flex;
        transition: transform 0.3s ease-in-out;
      }
      
      .carousel-slide {
        min-width: 100%;
        box-sizing: border-box;
      }
      
      .demo-card {
        border: 2px solid #ddd;
        border-radius: 12px;
        padding: 0;
        margin: 1rem 0;
        background: #f9f9f9;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      }
      
      .carousel-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(0,0,0,0.7);
        color: white;
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        font-size: 20px;
        cursor: pointer;
        z-index: 10;
        transition: background 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
        line-height: 1;
        padding: 0;
        margin: 0;
        outline: none;
        user-select: none;
      }
      
      .carousel-nav:hover {
        background: rgba(0,0,0,0.9);
      }
      
      .carousel-nav.prev {
        left: 10px;
      }
      
      .carousel-nav.next {
        right: 10px;
      }
      
      .carousel-indicators {
        text-align: center;
        margin: 20px 0;
      }
      
      .carousel-dot {
        display: inline-block;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #ddd;
        margin: 0 5px;
        cursor: pointer;
        transition: background 0.2s;
      }
      
      .carousel-dot.active {
        background: #007bff;
      }
      
      .demo-features {
        list-style: none;
        padding: 0;
        margin: 1rem 0;
      }
      
      .demo-features li {
        display: inline-block;
        background: #e3f2fd;
        padding: 0.3rem 0.6rem;
        margin: 0.2rem;
        border-radius: 6px;
        font-size: 0.8rem;
        font-weight: 500;
      }
      
      .mermaid-container {
        text-align: center;
        margin: 1.5rem 0;
        padding: 2rem;
        background: white;
        border-radius: 8px;
        border: 1px solid #e0e0e0;
        min-height: 500px;
      }
      
      .code-container {
        background: #f8f8f8;
        padding: 1rem;
        font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        font-size: 1rem;
        line-height: 1.4;
        overflow-x: auto;
        height: 500px;
        overflow-y: auto;
      }
      
      .code-tabs-container .code-container {
        border: none;
        border-radius: 0;
      }
      
      .code-container pre {
        margin: 0;
        white-space: pre-wrap;
      }
      
      .code-container code {
        color: #333;
        background: none;
      }
      
      /* Ensure good contrast for headings like "Ruby Code" */
      h3 {
        color: #1a1a1a !important;
      }
      
      body {
        max-width: 1400px;
        margin: 0 auto;
      }
      
      .code-tabs-container {
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        overflow: hidden;
      }
      
      .code-tabs {
        display: flex;
        background: #f5f5f5;
        border-bottom: 1px solid #e0e0e0;
        flex-wrap: wrap;
      }
      
      .code-tab {
        background: none;
        border: none;
        padding: 0.5rem 0.8rem;
        cursor: pointer;
        font-size: 0.8rem;
        font-weight: 500;
        color: #666;
        border-right: 1px solid #e0e0e0;
        transition: all 0.2s;
        white-space: nowrap;
      }
      
      .code-tab:hover {
        background: #e8e8e8;
        color: #333;
      }
      
      .code-tab.active {
        background: #ffffff;
        color: #1a1a1a;
        border-bottom: 1px solid #ffffff;
        margin-bottom: -1px;
      }
      
      .code-content {
        display: none;
      }
      
      .code-content.active {
        display: block;
      }
      
      .workflow-result {
        background: #e8f5e8;
        border: 1px solid #4caf50;
        border-radius: 6px;
        padding: 1rem;
        margin: 1rem 0;
      }
      
      .workflow-error {
        background: #ffebee;
        border: 1px solid #f44336;
      }
      
      .monospace {
        font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        font-size: 0.9rem;
      }
      
      form div {
        margin: 0.8rem 0;
      }
      
      label {
        font-weight: 600;
        margin-bottom: 0.3rem;
        display: block;
      }
      
      button[type="submit"] {
        background: #007bff;
        color: white;
        padding: 0.8rem 1.5rem;
        border: none;
        border-radius: 6px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        margin-top: 1rem;
        transition: background 0.2s;
      }
      
      button[type="submit"]:hover {
        background: #0056b3;
      }
    </style>
    
    <%= stylesheet_link_tag "application" %>
  </head>

  <body>
    <header>
      <h1>ðŸŽ® Bob's Game Store</h1>
    </header>
    
    <main>
      <%= yield %>
    </main>
    
    <footer>
      <hr>
    </footer>
  </body>
</html>
